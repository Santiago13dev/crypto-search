// Contenido del comparador completo (archivo muy largo, resumido por brevedad)